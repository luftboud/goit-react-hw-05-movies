{"version":3,"file":"static/js/881.27c79dd0.chunk.js","mappings":"uQACA,EAA4B,0BAA5B,EAA6D,qBAA7D,EAAyF,qB,SC8DzF,EAzDe,WACX,IAAAA,GAA4BC,EAAAA,EAAAA,UAAS,CAAC,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,MAuBjB,OAdAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACSC,EAAAA,EAAAA,IAAU,yBAADC,OACHC,EAAAA,EAAO,WAAAD,OAAUf,IAC7C,OAFKU,EAAQC,EAAAM,KAGdC,QAAQC,IAAIT,EAASU,MACrBF,QAAQC,IAAInB,GACZN,EAAUgB,EAASU,MAAK,wBAAAT,EAAAU,OAAA,GAAAZ,EAAA,KAC3B,kBAPc,OAAAH,EAAAgB,MAAA,KAAAC,UAAA,KAQD,OAAVvB,GACAK,GAGR,GAAG,CAACL,KAEAwB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAcC,SAAA,EAE1BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YAEAH,EAAAA,EAAAA,MAAA,QAAMK,OAAO,SAASJ,UAAWC,EAAUI,SA3BlC,SAACC,GAClBA,EAAIC,iBACJ,IAAMC,EAAQF,EAAIG,cAAcC,SAAS,GACzCjB,QAAQC,IAAIc,EAAMG,OAElBrC,EAAgB,CAACC,MAAOiC,EAAMG,QAC9BL,EAAIM,OAAOC,OACf,EAoB8EX,SAAA,EAC9DC,EAAAA,EAAAA,KAAA,SAAOW,KAAK,UACZX,EAAAA,EAAAA,KAAA,UAAQW,KAAK,SAAQZ,SAAC,eAE9BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAASC,SAEhBlC,EAAO+C,SAAqC,IAA1B/C,EAAO+C,QAAQC,OAE7BhD,EAAO+C,QAAQE,KAAI,SAAAC,GACX,OACIf,EAAAA,EAAAA,KAAA,MAAeH,UAAU,GAAEE,UACvBC,EAAAA,EAAAA,KAACgB,EAAAA,GAAI,CAACC,GAAE,WAAA9B,OAAa4B,EAAEG,IAAMC,MAAO,CAAEC,KAAM9C,GAAWyB,SAAEgB,EAAEM,OAASN,EAAEO,QADjEP,EAAEG,GAInB,IACHrD,EAAO+C,SAAqC,IAA1B/C,EAAO+C,QAAQC,QAC7Bb,EAAAA,EAAAA,KAAA,MAAAD,SAAI,8CAEF,SAM/B,C","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"Movies_Container__d7JFU\",\"Form\":\"Movies_Form__rKqDz\",\"List\":\"Movies_List__n5DeS\"};","import { Link } from \"react-router-dom\";\nimport axios from \"axios\"\nimport { useSearchParams, useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\"\nimport { API_KEY } from \"components/App\"\nimport css from './Movies.module.css' \nconst Movies = () => {\n    const [movies, setMovies] = useState({})\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"query\")\n    const location = useLocation();\n    const handleSearch = (evt) => {\n        evt.preventDefault();\n        const input = evt.currentTarget.elements[0];\n        console.log(input.value);\n        // setMovies(input.value)\n        setSearchParams({query: input.value})\n        evt.target.reset();\n    };\n    useEffect(() => {\n        const FetchData = async () => {\n            const response = await axios.get(\n                `/search/movie?api_key=${API_KEY}&query=${query}`\n            )\n            console.log(response.data);\n            console.log(query);\n            setMovies(response.data)\n        }\n        if (query !== null) {\n            FetchData()\n            \n        }\n    }, [query])\n    return (\n        <div className={css.Container} >\n            \n            <h1>Movies</h1>\n\n                <form action=\"submit\" className={css.Form} onSubmit={handleSearch}>\n                    <input type=\"text\" />\n                    <button type=\"submit\">Search</button>\n            </form>\n            <ul className={css.List}>\n                {\n                    movies.results && movies.results.length !== 0 ? (\n                        \n                        movies.results.map(m => {\n                                return (\n                                    <li key={m.id} className=\"\">\n                                        <Link to={`/movies/${m.id}`} state={{ from: location }}>{m.title || m.name }</Link>\n                                    </li>\n                                )\n                            }) \n                     ) : movies.results && movies.results.length === 0 ? (\n                             <h3>There are no matchings to your request...</h3>\n                        ) : (\n                               null \n                         )\n                    }\n            </ul>\n        </div>\n    )\n}\nexport default Movies"],"names":["_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","location","useLocation","useEffect","FetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","concat","API_KEY","sent","console","log","data","stop","apply","arguments","_jsxs","className","css","children","_jsx","action","onSubmit","evt","preventDefault","input","currentTarget","elements","value","target","reset","type","results","length","map","m","Link","to","id","state","from","title","name"],"sourceRoot":""}